incarnation: scafi
# Attach the GUI to the simulator
monitors: { type: SwingGUI, parameters: { graphics: src/main/resources/effect.json } }

# Define how the nodes are connected, in this case within a distance of 350 units
network-model: { type: ConnectWithinDistance, parameters: [1000] }
# Define the behaviour of the nodes
_reactions:
  - program: &program # MacroSwarm program, executed every second
      - time-distribution: 1
        type: Event
        actions:
          - type: RunScafiProgram
            parameters: [ it.unibo.program.MovementStateMachine, 1.0]
      - program: send
  - move: &move # Related actuation, executed every second
      - time-distribution: 1
        type: Event
        actions: { type: MoveToTarget, parameters: [ destination, 10 ] }
deployments:
  type: Grid
  parameters: [-500, -500, 500, 500, 200, 200, 25, 25]
  programs: [ *program, *move ] # Add the behaviour